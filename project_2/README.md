# Easy_Calculator



## what

模拟简单的计算器

Simulate a simple calculator

**词法分析（Lexical Analysis）和调度场算法（Shunting-Yard Algorithm）**。



####  词法分析（Lexical Analysis）

词法分析是编译器设计中的第一阶段，也称为扫描（scanning）或分词（tokenization）

**主要作用：**

从左到右逐字符读取，并将其分解成一系列有意义的令牌（tokens）

**解决的问题：**

> “这串字符分别代表什么？”

**它只做三件事：**

- 合并字符 → 数字 / 标识符
- 区分类型（数字 / 运算符 / 函数 / 括号）
- 标注一元 / 二元



#### 调度场算法（Shunting-Yard Algorithm）

**主要作用：**

用于将中缀表达式（infix notation，如 "2 + 3 * 4"）转换为后缀表达式（postfix notation，或逆波兰表示法 RPN

**解决的问题：**

> “这些 Token 按什么顺序执行？”

**它的核心职责是：**

- 处理运算符优先级
- 处理结合性（左结合 / 右结合）
- 正确处理括号
- 正确处理函数调用

## how

### **Lexer**

> 把整个字符串分成小tokens，分成以下几种情况处理
>
> + 数字
> + 字母
> + 括号
> + 运算符

### **ScientificCalculator**

> + 主函数
>   + 运算符的优先级
>   + 结合性——幂运算是右结合，其余左结合
>   + 执行单步运算（`/ * - + & % ^`）**分一元还是二元**
>   + 执行**函数**运算（调用辅助函数），进行误差清洗
> + 辅助函数
>   + 误差清洗——数字极小直接视为0
>   + **计算函数（sin cos……）**
>   + 从栈中取出运算符（辅助计算函数）



## learn

1. 学习枚举
2. 加深对栈的理解



